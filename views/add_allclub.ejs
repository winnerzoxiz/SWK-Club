<!DOCTYPE html>
<html lang="en">

<head>
  <!-- -------------------- Meta & Title -------------------- -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>add_allclub</title>

  <!-- -------------------- CSS & Icon -------------------- -->
  <link rel="stylesheet" href="style-addallclub.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
</head>

<body>
  <div class="container">
    <!-- -------------------- Header -------------------- -->
    <div class="header">
      <div class="header-btn">
        <a href="/admin_club">
          <button class="btn btn-success ms-1">
            <i class="bi bi-arrow-left"></i>
          </button>
        </a>
      </div>
      <div class="header-txt">
        <h1>üë©‚Äçüéì ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°</h1>
      </div>
    </div>

    <!-- -------------------- Sub Header -------------------- -->
    <div class="sub_header" style="text-align: center;">
      <p>‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå CSV ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>
    </div>

    <!-- -------------------- Instructions -------------------- -->
    <div class="instructions">
      <h3>üìã ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÑ‡∏ü‡∏•‡πå CSV ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á:</h3>
      <ul>
        <li style="font-size: 18px;"><strong>‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°</strong> - ‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°/‡∏ß‡∏¥‡∏ä‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
        <li style="font-size: 18px;"><strong>‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</strong> - ‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏π‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤</li>
        <li style="font-size: 18px;"><strong>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</strong> - ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏£‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ</li>
        <li style="font-size: 18px;"><strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</strong> - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</li>
        <li style="font-size: 18px;"><strong>‡∏´‡πâ‡∏≠‡∏á</strong> - ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</li>
        <li style="font-size: 18px;"><strong>‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö</strong> - ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ä‡∏∏‡∏°‡∏ô‡∏∏‡∏°</li>
      </ul>
      <a href="/admin_club/download-template">
        <button class="btn btn-primary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV Template</button>
      </a>
    </div>

    <!-- -------------------- Upload Form -------------------- -->
    <form action="/admin_club/import" method="POST" enctype="multipart/form-data" class="upload-form">
      <div class="file-input-wrapper">
        <input type="file" name="csvfile" accept=".csv" required class="file-input" id="csvfile">
        <label for="csvfile" class="file-input-label" id="fileLabel">
          <span class="upload-icon">üìÅ</span>
          <span class="file-text">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå CSV</span>
        </label>
        <div class="file-info" id="fileInfo">‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå .csv</div>
      </div>
      <button type="submit" class="submit-btn" id="submitBtn" disabled>
        üì§ ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      </button>
    </form>

    <!-- -------------------- Message Alert -------------------- -->
    <% if (typeof message !=='undefined' && message) { %>
      <div
        class="message <%= message.includes('‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à') ? 'success' : message.includes('‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î') || message.includes('‡πÑ‡∏°‡πà') ? 'error' : 'info' %>">
        <%= message %>
      </div>
      <% } %>
  </div>

  <!-- -------------------- Script: File Upload & Drag Drop -------------------- -->
  <script>
    // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ input file ‡πÅ‡∏•‡∏∞ label
    const fileInput = document.getElementById('csvfile');
    const fileLabel = document.getElementById('fileLabel');
    const fileInfo = document.getElementById('fileInfo');
    const submitBtn = document.getElementById('submitBtn');

    // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå
    fileInput.addEventListener('change', function (e) {
      const file = e.target.files[0];
      if (file) {
        fileLabel.classList.add('has-file');
        fileLabel.innerHTML = `
          <span class="upload-icon">‚úÖ</span>
          <span class="file-text">${file.name}</span>
        `;
        fileInfo.textContent = `‡∏Ç‡∏ô‡∏≤‡∏î‡πÑ‡∏ü‡∏•‡πå: ${(file.size / 1024).toFixed(1)} KB`;
        submitBtn.disabled = false;
      } else {
        fileLabel.classList.remove('has-file');
        fileLabel.innerHTML = `
          <span class="upload-icon">üìÅ</span>
          <span class="file-text">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå CSV</span>
        `;
        fileInfo.textContent = '‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ü‡∏•‡πå .csv';
        submitBtn.disabled = true;
      }
    });

    // ‡πÄ‡∏û‡∏¥‡πà‡∏° loading state ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏ü‡∏≠‡∏£‡πå‡∏°
    document.querySelector('.upload-form').addEventListener('submit', function () {
      submitBtn.innerHTML = '‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏û‡πÇ‡∏´‡∏•‡∏î...';
      submitBtn.disabled = true;
    });

    // Drag & Drop functionality
    let dragCounter = 0;
    fileLabel.addEventListener('dragenter', function (e) {
      e.preventDefault();
      dragCounter++;
      this.style.borderColor = '#764ba2';
      this.style.transform = 'scale(1.02)';
    });
    fileLabel.addEventListener('dragleave', function (e) {
      e.preventDefault();
      dragCounter--;
      if (dragCounter === 0) {
        this.style.borderColor = '#667eea';
        this.style.transform = 'scale(1)';
      }
    });
    fileLabel.addEventListener('dragover', function (e) {
      e.preventDefault();
    });
    fileLabel.addEventListener('drop', function (e) {
      e.preventDefault();
      dragCounter = 0;
      this.style.borderColor = '#667eea';
      this.style.transform = 'scale(1)';
      const files = e.dataTransfer.files;
      if (files.length > 0) {
        fileInput.files = files;
        fileInput.dispatchEvent(new Event('change', { bubbles: true }));
      }
    });
  </script>
</body>

</html>